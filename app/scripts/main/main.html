<head>
    <script src="../../../bower_components/Chart.js/dist/Chart.bundle.js"></script>
</head>

<style>
  .page-header {
    font-size: 200%;   
  }

  /* Pattern styles */
  .container {
    text-align: center;
    display: table;
    width: 100%;
    height: 100%;
  }

  .left-half {
    background-color: #ECEFF1;
    position: absolute;
    color: black;
    left: 0px;
    width: 30%;
    height: 100%;
  }

  .right-half {
    background-color: white;
    position: absolute;
    right: 0px;
    width: 70%;
    height: 100%;
  }
  .progress {
    margin: 5%;
    width: 100%;
  }

  #donate {
    font-size: 3em;
    width: 40%;
  }

  .content {
    margin: 5%;
  }

  .theImage {
    max-width: 100%;
    max-height: 100%;
    margin-bottom: 3%; 
  }

  .image_containter {
    /*position: absolute;*/
    position: relative;
    margin: 3%;
  }

  .statistics {
    background-color: #ECEFF1;    
  }

  /* for mouse hover hover message effect */
  .imageHolder {
      text-decoration:none; 
      position:relative;
  }
  .imageHolder span {
    display:none;
  }
  .imageHolder:hover span {
      display:block;
      position:fixed;
  }
  
  #tooltip-span {
      border: 10px solid #263238;
      font-size: 2em;
      border-radius: 5px;
      background-color:#263238;
      color: white;
  }
          
</style>

<div class="jumbotron">
    <div class="page-header">
      <h1>The 1 Million Meal Project</h1>
      <h1><small>by the bruhgrammers</small></h1>
    </div>
    <a href = "#/buy"><button type="button" id="donate" data-loading-text="Loading..." class="btn btn-primary" autocomplete="off">
      Donate
    </button> </a>
</div>

<div class="imageHolder" id="imagehold">
  <img class="theImage" id="theimage" src="https://s3-us-west-2.amazonaws.com/fmsc4262016/current.png" alt="the image"><br>
    <span id="tooltip-span">
        <div id="message">
            message
        </div>
    </span>
</div>

  <!-- <img class="theImage" src="https://s3-us-west-2.amazonaws.com/fmsc4262016/current.png" alt="the image"><br> -->

<!-- statistics -->
<div class="jumbotron">
    <h1>Statistics</h1>

    <h3>Percent of meals given</h3>
    
      <div id="progress-bar-container"  style="display:inline-block;width: 33%">
        <canvas id="progress-bar" width="200" height="400"></canvas>
      </div>

      <div id="top5-container"  style="display:inline-block;width: 33%">
        <canvas id="top5-barchart" width="200" height="400"></canvas>
      </div>

      <div id="all-states-container"  style="display:inline-block;width: 33%">
        <canvas id="all-states-doughnut" width="200" height="400"></canvas>
      </div>   
</div>

<div class="statistics"></div>

<!-- for mouse over image message -->
<script type="text/javascript">   
  var tooltipSpan = document.getElementById('tooltip-span');
  var message = document.getElementById('message');
  var windowWidth = window.innerWidth;
  var divPos = {};
  var offset = $("#imagehold").offset();

  $(document).mousemove(function(e) {

    var x = e.clientX - $('.imageHolder').offset().left;
    var y = e.clientY;

    divPos = {
        left: e.pageX - offset.left,
        top: e.pageY - offset.top
    };

    if (x < (windowWidth / 2)) { 
      tooltipSpan.style.left = (x + 60) + 'px';
    }
    else {
      var divWidth = document.getElementById('tooltip-span').offsetWidth;
      tooltipSpan.style.left = (x - divWidth + 40) + 'px';
    }
    
    tooltipSpan.style.top = (y + 20) + 'px';
    message.innerHTML = "x: " + divPos.left + " y: " + divPos.top;

  });

  $(document).ready(function(){
    $(window).resize(function(){
      offset = $("#imagehold").offset();
      windowWidth = window.innerWidth;
      divPos = {};
      console.log("resize");
    });
  });

  

</script>

